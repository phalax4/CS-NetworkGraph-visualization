<base href="http://www.cs.utexas.edu/~gouda/cs356sp08/quiz6/">
-------------------------------------------------------------------------------
Mohamed G. Gouda						CS 356
Spring 2008							quiz 6
------------------------------------------------------------------------------
Consider a protocol between processes p and q, where p continuously sends 
messages of the form msg(s, t) to q, s is the message sequence number in the
range 0..(2n - 1), and t is an integer that represents the message text.
The function of the protocol is to provide forward recovery from n-bounded
reorder. Process q in this protocol is as follows.

process q

const 	n

var	rcvd : array[integer]of integer,	{store text of rcvd messages}
						{in order}

	i    : integer,				{index of rcvd, init. 0}
	bff  : array[0..(2n - 1)]of integer,	{temporarily store text}
	st   : array[0..(2n - 1)]of boolean,	{state of bff, init. false}
	j    : 0..(2n - 1),                     {index of state, init. 0}
	s    : 0..(2n - 1),			{sequence number of rcvd msg}
	t    : integer				{text of rcvd msg}

begin
	rcv msg(s,t) from p  -->
		bff[s], st[s] := t, true;
		do ... od
end

Design the do..od statement in process q.

-------------------------------------------------------------------------------
Student Name:
Student ID:
-------------------------------------------------------------------------------

Solution:

   do st[j] --> rcvd[i], i, st[j], j := bff[j], i+1, false, j +2n 1  od
	
	

